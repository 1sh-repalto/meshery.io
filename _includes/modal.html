<div id="open-modal" class="modal-window">
  <!-- <div class="click-container"> -->
    <div class="modal-content">
      <div class="modal-image">
        <div class="chip chip-modal">
          {% if pattern.filters.type == "wasm filter" %}
          <a href="{{ site.baseurl }}/catalog/webassembly">
            <h6 class="pattern-type"> {{pattern.filters.type | upcase }}</h6>
          {% else %}
            <a href="{{ site.baseurl }}/catalog/{{ pattern.type | slugify }}">
          {% endif %}
              <h6 class="pattern-type"> {{pattern.type | upcase }}</h6>
            </a>
        </div>
        <button class="modal-close close">&times;</button>
        {%if pattern.filters.type == "wasm filter" %}
        <img class="image-class" src="https://raw.githubusercontent.com/layer5labs/meshery-extensions-packages/master/action-assets/design-assets/{{pattern.patternId}}.png" onerror="this.src='/assets/images/webassembly_logo.svg'" loading="lazy" onclick="toggleFullScreenImage('{{ pattern.patternId }}')" />
        {%else%}
        <img class="image-class" src="https://raw.githubusercontent.com/layer5labs/meshery-extensions-packages/master/action-assets/design-assets/{{pattern.patternId}}.png" onerror="this.src='/assets/images/patterns/service-mesh.svg'" loading="lazy" onclick="toggleFullScreenImage('{{ pattern.patternId }}')" />
        {%endif%}
        <h4 class="related-patterns">RELATED PATTERNS</h4>
        {% include related-patterns.html %}
      </div>
      <div class="vertical-line"></div>
      <div class="modal-info">
        <h2 class="modal-h2">{{pattern.name | upcase }} {% include read-more.html %}</h2>
        {% if pattern.patternInfo %}
        <h3 class="modal-h3">What this pattern does</h3>
        <p class="content-toggle contentdata pre-white-space">{{pattern.patternInfo | url_decode | replace: '\\n', '<br/>' | replace: '\n', '<br/>' }}</p>
        <span class="read-more" href="read-more.html">{% include expand.html %}</span>
        <h3 class="modal-h3">Caveats and Considerations</h3>
        <p class="pre-white-space">{{pattern.patternCaveats | url_decode | replace: '\\n', '<br/>' | replace: '\n', '<br/>'}}</p>
        {% else %}
        <h3 class="modal-h3">What this filter does</h3>
        <p class="content-toggle contentdata pre-white-space">
          {{pattern.filterInfo | url_decode | replace: '\\n', '<br/>' | replace: '\n', '<br/>'}}
        </p>
        <span class="read-more">...read more</span>
        <h3 class="modal-h3">Caveats and Considerations</h3>
        <p class="pre-white-space">{{pattern.filterCaveats | url_decode | replace: '\\n', '<br/>' | replace: '\n', '<br/>'}}</p>
        {% endif %}
          <h3 class="modal-h3">Technologies</h3>
          {% include partials/compatibility.html %}
        {% include copy-and-download.html %}
      </div>
    </div>
     
 <script src="{{ site.baseurl }}/assets/js/catalog-modal.js"></script>
 <script>
  function toggleFullScreenImage(patternId) {
    var fullScreenContainer = document.getElementById(`fullScreenContainer${patternId}`);

    if (!fullScreenContainer) {
      createFullScreenContainer(patternId);
      document.body.style.overflow = 'hidden';
    } else {
      document.body.removeChild(fullScreenContainer);
      document.body.style.overflow = 'auto';
    }
  }

  function createFullScreenContainer(patternId) {
    var fullScreenContainer = document.createElement('div');
    fullScreenContainer.id = `fullScreenImageContainer${patternId}`;
    fullScreenContainer.style.position = 'fixed';
    fullScreenContainer.style.top = '0';
    fullScreenContainer.style.left = '0';
    fullScreenContainer.style.width = '100%';
    fullScreenContainer.style.height = '100%';
    fullScreenContainer.style.backgroundColor = 'rgba(0, 0, 0, 0.9)';
    fullScreenContainer.style.zIndex = '9999';

    var fullScreenImage = document.createElement('img');
    fullScreenImage.id = `fullScreenImage${patternId}`;
    fullScreenImage.className = 'image-class';
    fullScreenImage.alt = 'Full Screen Image';
    fullScreenImage.src = 'https://raw.githubusercontent.com/layer5labs/meshery-extensions-packages/master/action-assets/design-assets/' + patternId + '.png';

    fullScreenImage.onerror = function () {
     this.src = '/assets/images/patterns/service-mesh.svg';
    };
    fullScreenImage.loading = 'lazy';
    fullScreenImage.style.height = '50%';
    fullScreenImage.style.width = '50%';
    fullScreenImage.style.position = 'absolute';
    fullScreenImage.style.left = '50%';
    fullScreenImage.style.top = '45%';
    fullScreenImage.style.transform = 'translate(-50%, -50%)';
    fullScreenContainer.style.cursor = "pointer";


    fullScreenContainer.appendChild(fullScreenImage);

    document.body.appendChild(fullScreenContainer);
    fullScreenContainer.onclick = function () {
      document.body.removeChild(fullScreenContainer);
      document.body.style.overflow = 'auto';
    };
  }
</script>
   
  <!-- </div> -->
</div>